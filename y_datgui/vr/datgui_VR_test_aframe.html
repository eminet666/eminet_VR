<!-- src : https://codepen.io/cwervo/pen/RgLWXK -->
<!DOCTYPE html>
<html>

<head>
    <meta charset="UTF-8">
    <script src="https://aframe.io/releases/0.5.0/aframe.min.js"></script>
    <!-- <script src="https://vr.cwervo.com/js/vr/datguivr.min.js"></script> -->
    <script src="./datguivr.js"></script>
    <script src="./datguivr-aframe.js"></script>
    
    <!-- <script>
        AFRAME.registerComponent('dat-gui-controller', {
            schema: { 
                query: { default: "" }
            },

            init: function () {
                if (this.data.query === "") {
                    console.warn("Dat-gui-controller: no query, please add one");
                    return;
                }
                scene = this.el.sceneEl.object3D;
                var controls = document.querySelectorAll(this.data.query);

                controls.forEach(function (controllerEl) {
                    var object3D = controllerEl.object3D;
                    // https://github.com/dataarts/dat.guiVR/wiki/Input-Support-(Vive-Controllers,-Mouse,-etc)
                    var vrInput = dat.GUIVR.addInputObject(object3D);

                    ['trigger', 'trackpad', 'grip'].forEach(function (baseEvent) {
                        ['up', 'down'].forEach(function (e) {
                            controllerEl.addEventListener(baseEvent + e, function () {
                                var gripEvent = baseEvent === 'grip';
                                console.log((gripEvent ? 'gripped' : 'pressed') + " " + controllerEl + " " + e);
                                var value = e === "down";
                                gripEvent ? vrInput.gripped(value) : vrInput.pressed(value);
                            });
                        });
                    });
                    scene.add(vrInput);
                });
            }
        });
    </script> -->

</head>

<body>

    <a-scene background="color: skyblue" 
        dat-gui-controller="query: [oculus-touch-controls]">

        <a-datgui name="settings" position="0 1 -1">
            <a-gui-slider id="scaleControl" name="scale" step="0.01" min="0.01" max="4"></a-gui-slider>
            <a-gui-dropdown name="options">
                <a-gui-option value="0">Item 0</a-gui-option>
                <a-gui-option value="1">Item 1</a-gui-option>
            </a-gui-dropdown>
            <a-gui-checkbox name="on or off" default="true"></a-gui-checkbox>
            <a-gui-button name="click me"></a-gui-button>
        </a-datgui>

        <a-box id="box" color="#4CC3D9" position="-1 0.5 -2" rotation="0 45 0"></a-box>
        <a-sphere id="sphere" color="#EF2D5E" position="0 1.25 -5" radius="1.25"></a-sphere>
        <a-cylinder color="#FFC66E" height="1.5" position="1 0.75 -3" radius="0.5"></a-cylinder>
        <a-plane color="#7BC8A4" height="4" position="0 0 -4" rotation="-90 0 0" width="4"></a-plane>

        <a-entity position="0 0 0">
            <a-entity camera position="0 1.6 0" look-controls wasd-controls></a-entity>
            <a-entity id="left" oculus-touch-controls="hand: left;"></a-entity>
            <a-entity id="right" oculus-touch-controls="hand: right;"></a-entity>        
        </a-entity>
        
    </a-scene>

</body>

</html>